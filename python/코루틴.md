### 코루틴이 뭐지

파이썬의 쓰레드가 GIL로 인해 퍼포먼스가 제대로 나오지 않는 다는 것을 알고 있었다.

파이썬3에서 부터(물론 모두 빌트인 라이브러리는 아님) gevent, celery, asyncio 등 다양한 비동기 모듈들에 대해서 들어보게 되면서 이와 같은 것들이 어떻게 쓰레드 퍼포먼스를 대체하는지 의문이 갔다.

사실 그 의문점 이전에 코루틴이 뭔지 감이 오지 않았다.

일단 몇 개 글을 보니까 ```concurrency```을 위한 것임을. 완벽히는 아니더라두 대충 느낌적인 느낌으로 알 것 같다.

파이썬은 제너레이터라는 개념이 있는데, iterator를 구현할 때 전체 루틴?iter?가 끝나지 않고 중간에서 값을 던질수(yield) 있다.

이를 이용해서 프로세스가 끝나지 않고, 값을 다 던질수 있는데 예를 들어서 여러개의 url을 request할 때 굳이 response 를 받지 않고 동시에 다 던질 수 있는 것이다.

돌아갈 위치를 기억하고 있기 때문에 위와 같은 작업이 가능하다.

그래서 파이썬은 GIL을 우회하는 대신에 asyncio를 3.5에 넣어서 비동기 구현이 가능하도록 했고 이를 이용해서 퍼포먼스를 낸다고 한다.

쓰레드가 가지고 있는 단점인 데드락이라던지, 구현이 어렵다던지 하는 것 등등을 코루틴을 사용함으로써 대체할 수 있다고 한다.

일단 직접 해봐야지 더 잘 알 수 있을듯


읽어보면 좋을 것 같은 글
* https://soooprmx.com/archives/6882
* https://mingrammer.com/translation-asynchronous-python/
* https://dojang.io/mod/page/view.php?id=1167
