# 하둡

##### 인그레스 (ingress)
하둡으로 데이터를 집어넣는 작업
##### 이그레스 (egress)
하둡에 들어있는 데이터를 가져오는 작업


### HDFS 아키텍쳐
HDFS 는 블록 구조의 파일 시스템이다.

#### 네임노드와 데이터 노드

##### 네임 노드

네임 노드의 역할

###### 메타데이터 관리
네임 노드는 파일시스템을 관리하기 위해 메타데이터를 가지고 있다.
###### 데이터 노드 모니터링
데이터 노드는 네임노드에게 3초에 한번 씩 하트비트를 날린다. 네임 노드는 해당 하트비트를 통해 데이터 노드의
실행 상태와 용량을 확인하고, 하트비트가 오지 않으면 해당 데이터 노드가 장애가 났다고 판단한다.
###### 블록 관리
- 네임 노드는 장애가 발생한 데이터 노드를 발견하면 해당 데이터 노드의 블록을 새로운 데이터 노드로 복제한다.
- 용량이 부족한 데이터 노드를 발견하면 네임 노드는 용량에 여유가 있는 쪽으로 데이터 노드를 이동 시킨다.
- 네임 노드는 리플리케이션 수를 이용해 블록이 더 많거나 적으면 복제하거나 삭제해준다.

###### 클라이언트 요청 접수


##### 데이터 노드
데이터 노드는 클라이언트가 HDFS에 저장하는 파일을 로컬 디스크에 유지한다. 이 때 로컬 디스크에 저장하는
데이터의 종류는 2가지이다. 하나는 실제 데이터고 나머지 하나는 메타 데이터다.

##### HDFS 의 파일 저장
HDFS 의 파일 저장은 3단계로 나누어진다.

1. 클라이언트가 네임노드에게 파일 저장을 요청하는 단계
2. 클라이언트가 데이터노드에게 패킷을 전송하는 단계
3. 클라이언트가 파일 저장을 완료하는 단계
