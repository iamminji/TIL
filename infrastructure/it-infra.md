# IT 인프라 구조

IT 인프라는 크게 `집약형` 과 `분할형` 으로 나누어진다.

### 집약형
하나의 컴퓨터로 모든 처리를 하는 경우이다.

> 하나 라고는 하지만, 내부적으로는 여러 시스템이 공존하는 경우다. 어떤 하나의 시스템이 장애가 나도 다른 시스템에는 영향을 끼치지 않게 설계 한다.

#### 장점
- 구성이 간단하다.
- 리소스 관리나 이중화에 의해 안정성이 높고 고성능이다.

###### 단점
- 도입 비용과 유지 비용이 크다.
- 확장성에 한계가 있다.

#### 분할형
여러 대의 컴퓨터를 조합해서 하나의 시스템을 구축하는 구조다.

###### 장점
- 낮은 비용으로 시스템을 구축할 수 있다.
- 서버 대수를 늘릴 수 있어서 확장성이 높다.

###### 단점
- 대수가 늘어나면 관리 구조가 복잡해진다.
- 한 대가 망가지면 영향 범위를 최소화하기 위한 구조를 검토해야 한다.

분할형 중에 `수직 분할형` 의 경우 서버별로 다른 역할을 한다. 다음은 `수직 분할형` 에 해당하는 `클라이언트-서버` 아키텍쳐와 `3계층` 아키텍쳐 이다.

#### 클라이언트-서버형 아키텍쳐
우리가 흔히 아는 구조 (클라이언트-서버) 이다. 클라이언트는 예를 들면 스마트폰과 같은 기기이며 서버는 말 그대로 서버다.

###### 장점
- 클라이언트 측에서 많은 처리를 실행할 수 있어서 소수의 서버로 다수의 클라이언트를 처리할 수 있다.

###### 단점
- 클라이언트 측의 소프트웨어 정기 업데이트가 필요하다.
- 서버 확장성에 한계가 발생할 수 있다.

클라이언트-서버 아키텍쳐는 버그 수정과 같은 업데이트를 해야할 경우 클라이언트도 진행해야 하는 경우가 있다. 뿐만 아니라 서버에서 처리를 하는 경우엔 확장성의 문제도 있다. 이를 극복하기 위해 나온 것이 `3계층 아키텍쳐`이다.

#### 3계층 아키텍쳐
3계층 아키텍쳐는 클라이언트-서버형을 발전시킨 것이다.

`프레젠테이션 계층`, `애플레키에션 계층`, `데이터 계층` 총 3가지 계층이 존재하기 때문에 3계층 아키텍쳐라 부른다.

##### 프레젠테이션 계층
- 사용자의 입력을 받는다.
- 웹 브라우저 화면을 표시한다.

##### 애플리케이션 계층 (AP 계층)
-  request 에 따라 업무 처리를 한다.

##### 데이터 계층
- 애플리케이션 계층의 요청에 따라 데이터 입출력을 한다.

`수직 분할형` 이 있으면 `수평 분할형` 도 있다. `수직 분할형` 이 서버 별로 다른 책임을 갖는다면 `수평 분할형` 은 같은 책임을 여러 서버가 나눠 갖는다.
`수평 분할` 을 `샤딩` 이나 `파티셔닝` 이라고도 부른다.

#### 단순 수평 분할형 아키텍쳐
서로 다른 성격의 같은 서비스(예를 들면 부산과 서울의 편의점 매출 정보등)에서는 수직 분할형 구조를 갖는다. 즉, 부산에 있는 매니저가 서울의 편의점의 매출을 알고 싶다면 서울의 편의점 프레젠테이션-애플리케이션-데이터 계층에 접근해야 한다는 것이다.

##### 장점
- 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
- 분할한 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다.

##### 단점
- 데이터를 일원화해서 볼 수 없다.
- 애플리케이션 업데이트는 양쪽을 동시에 해 주어야 한다.
- 처리량이 균등하게 분할돼 있지 않으면 서버별 처리량에 치우침이 생긴다.

#### 공유형 아키텍쳐
데이터 계층에서 서로 동기화를 진행한다. ()결국 서울의 편의점 매니저는 서울의 편의점 매출 데이터에 접근해도 부산의 편의점 매출을 볼 수 있다는 것이다.)

##### 장점
- 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
- 분할한 시스템이 서로 다른 시스템의 데이터를 참조할 수 있따.

##### 단점
- 분할한 시스템 간 독립성이 낮아진다.
- 공유한 계층의 확장성이 낮아진다.
